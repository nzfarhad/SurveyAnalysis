% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_multi_select.R
\name{analyze_multi_select}
\alias{analyze_multi_select}
\title{Enhanced Multi-Select Analysis with Automatic Disaggregation}
\usage{
analyze_multi_select(
  df,
  ques,
  disag = NULL,
  level = NULL,
  multi_response_sep = "; ",
  show_view = FALSE,
  wide_format = FALSE,
  dt_table = FALSE,
  create_plot = FALSE,
  max_categories = 10,
  chart_type = "column",
  max_label_length = 12,
  font_sizes = list(plot_title = 12, legend_title = 10, legend_text = 10, geom_text = 3,
    axis_title = 10)
)
}
\arguments{
\item{df}{A data frame containing the survey data}

\item{ques}{Character string specifying the column name of the question to analyze}

\item{disag}{Character string specifying the disaggregation variable name (optional)}

\item{level}{Character string specifying the disaggregation level name (optional)}

\item{multi_response_sep}{Character string specifying the separator for multi-response questions (default: "; ")}

\item{show_view}{Logical, whether to display results in Viewer pane}

\item{wide_format}{Logical, whether to reshape results to wide format}

\item{dt_table}{Logical, whether to use DT table for display}

\item{create_plot}{Logical, whether to create visualization}

\item{max_categories}{Integer, maximum number of categories to display}

\item{chart_type}{Character string specifying chart type ("column", "bar", "pie")}

\item{max_label_length}{Integer, maximum length for labels}

\item{font_sizes}{List of font sizes for plot elements}
}
\value{
A data frame with analysis results including percentages, counts, and metadata, or a list containing table, dt_table, and plot objects if requested
}
\description{
Analyzes multi-select questions with automatic disaggregation handling.
If a disaggregation variable is provided, the function automatically loops through
all levels and returns combined results. If not provided, performs overall analysis.
}
\examples{
# Create sample data with multi-select responses
survey_data <- data.frame(
  services_used = c("Health; Education", "Health", "Education; Transport", 
                    "Health; Education; Transport", "Transport"),
  region = c("North", "South", "North", "South", "East")
)

# Analyze services overall (no disaggregation)
services_results <- analyze_multi_select(df = survey_data, 
                                        ques = "services_used",
                                        multi_response_sep = ";")
print(services_results)

# Analyze services by region (automatic disaggregation)
services_by_region <- analyze_multi_select(df = survey_data, 
                                          ques = "services_used", 
                                          disag = "region",
                                          multi_response_sep = ";")
print(services_by_region)

}
