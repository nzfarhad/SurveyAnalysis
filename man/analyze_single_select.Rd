% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_single_select.R
\name{analyze_single_select}
\alias{analyze_single_select}
\title{Enhanced Single Select Analysis with Automatic Disaggregation}
\usage{
analyze_single_select(
  df,
  ques,
  disag = NULL,
  level = NULL,
  show_view = FALSE,
  wide_format = FALSE,
  dt_table = FALSE,
  create_plot = FALSE,
  max_categories = 10,
  chart_type = "column",
  max_label_length = 12,
  font_sizes = list(plot_title = 12, legend_title = 10, legend_text = 10, geom_text = 3,
    axis_title = 10)
)
}
\arguments{
\item{df}{A data frame containing the survey data}

\item{ques}{Character string specifying the column name of the question to analyze}

\item{disag}{Character string specifying the disaggregation variable name (optional)}

\item{level}{Character string specifying the disaggregation level name (optional)}

\item{show_view}{Logical, whether to display results in Viewer pane}

\item{wide_format}{Logical, whether to reshape results to wide format}

\item{dt_table}{Logical, whether to use DT table for display}

\item{create_plot}{Logical, whether to create visualization}

\item{max_categories}{Integer, maximum number of categories to display}

\item{chart_type}{Character string specifying chart type ("column", "bar", "pie")}

\item{max_label_length}{Integer, maximum length for labels}

\item{font_sizes}{List of font sizes for plot elements}
}
\value{
A data frame with analysis results including percentages, counts, and metadata, or a list containing table, dt_table, and plot objects if requested
}
\description{
Analyzes single-select questions with automatic disaggregation handling.
If a disaggregation variable is provided, the function automatically loops through
all levels and returns combined results. If not provided, performs overall analysis.
}
\examples{
# Create sample data
survey_data <- data.frame(
  gender = c("Male", "Female", "Male", "Female", "Male"),
  region = c("North", "South", "North", "South", "East"),
  facility_type = c("Hospital", "Clinic", "Hospital", "Health Center", "Clinic")
)

# Analyze gender overall (no disaggregation)
gender_results <- analyze_single_select(df = survey_data, ques = "gender")
print(gender_results)

# Analyze gender by region (automatic disaggregation)
gender_by_region <- analyze_single_select(df = survey_data, 
                                         ques = "gender", 
                                         disag = "region")
print(gender_by_region)

}
